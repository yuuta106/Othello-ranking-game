<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Othello High Scores</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
<body>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1192952821443122"
     crossorigin="anonymous"></script>

<div class="container-fluid">


    <div class="section your-score">
        <h2>Your Score</h2>
        <div id="your-result"></div>
    </div>


    <div class="section ranking">
    <h2>Ranking</h2>

    {% for s in scores %}
    <div class="rank rank-{{ loop.index }}">
        {{ loop.index }}. {{ s.name }} : {{ s.score }}
    </div>
    {% endfor %}

</div>


    <button class="try-btn mx-auto d-block" onclick="tryAgain()">Try Again?</button>

</div>

<div class="footer-links">
    <a href="/about">About</a>
    <span>|</span>
    <a href="/privacy">Privacy Policy</a>
</div>

<style>
.footer-links {
    position: fixed;
    bottom: 10px;
    right: 15px;
    font-size: 1.2rem;
    opacity: 0.8;
}

.footer-links a {
    color: #ccc;
    text-decoration: none;
    margin: 0 3px;
}

.footer-links a:hover {
    text-decoration: underline;
}
</style>



<script>
function tryAgain() {
    window.location.href = "/"; // ゲームページに戻る
}

// データ表示
const lastResult = JSON.parse(localStorage.getItem('lastResult') || "{}");
const yourResultDiv = document.getElementById('your-result');
if(lastResult.yourPoint !== undefined){
    yourResultDiv.innerHTML = `
        Black: ${lastResult.black}  White: ${lastResult.white} <br>
        Winner: ${lastResult.winner} <br>
        Your Point: ${lastResult.yourPoint}
    `;
}

// 上位3名表示
const scores = JSON.parse(localStorage.getItem('othelloScores') || "[]");
const top3 = scores.slice(0,3);
document.getElementById('score-board').innerHTML = top3.map((s,i) => `
    <div class="rank rank-${i+1}">
        ${i+1}. ${s.name}: ${s.score}
    </div>
`).join("");

</script>


</body>
</html>
